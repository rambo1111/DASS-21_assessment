<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DASS-21 Assessment</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #333;
      min-height: 100vh;
    }

    .container {
      display: grid;
      grid-template-columns: 320px 1fr;
      height: 100vh;
      padding: 24px;
      gap: 24px;
    }

    .sidebar {
      background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
      border-radius: 20px;
      padding: 28px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1), 0 8px 16px rgba(0, 0, 0, 0.06);
      display: flex;
      flex-direction: column;
      gap: 24px;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .sidebar h1 {
      font-size: 2rem;
      font-weight: 700;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
    }

    .sidebar p {
      font-size: 0.95rem;
      color: #64748b;
      font-weight: 400;
      line-height: 1.5;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .form-group label {
      font-weight: 600;
      color: #374151;
      font-size: 0.9rem;
    }

    .form-group input {
      padding: 12px 16px;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      background: #fff;
    }

    .form-group input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .instructions {
      font-size: 0.9rem;
      background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
      padding: 16px;
      border-radius: 12px;
      border: 1px solid rgba(102, 126, 234, 0.2);
      color: #3730a3;
      line-height: 1.5;
    }

    .main {
      background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
      border-radius: 20px;
      padding: 32px;
      overflow-y: auto;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1), 0 8px 16px rgba(0, 0, 0, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .question {
      margin-bottom: 28px;
      padding: 20px;
      background: linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%);
      border-radius: 16px;
      border: 1px solid #e5e7eb;
      transition: all 0.3s ease;
    }

    .question:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    }

    .question h3 {
      font-size: 1.05rem;
      margin-bottom: 16px;
      color: #1f2937;
      font-weight: 500;
      line-height: 1.4;
    }

    .options {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .option {
      position: relative;
    }

    .option label {
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      padding: 12px 20px;
      border-radius: 12px;
      border: 2px solid #e2e8f0;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 500;
      transition: all 0.3s ease;
      display: block;
      min-width: 50px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .option label::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);
      transition: left 0.5s;
    }

    .option input {
      display: none;
    }

    .option input:checked + label {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-color: #667eea;
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .option input:checked + label::before {
      left: 100%;
    }

    .option label:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
    }

    .submit {
      margin-top: 32px;
      text-align: center;
    }

    .submit button {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: white;
      padding: 16px 40px;
      border: none;
      border-radius: 16px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
      position: relative;
      overflow: hidden;
    }

    .submit button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.5s;
    }

    .submit button:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 25px rgba(16, 185, 129, 0.4);
    }

    .submit button:hover::before {
      left: 100%;
    }

    .results {
      display: none;
      margin-top: 40px;
      padding: 32px;
      background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
      border-radius: 20px;
      border: 1px solid rgba(14, 165, 233, 0.2);
    }

    .results h2 {
      text-align: center;
      margin-bottom: 32px;
      font-size: 1.8rem;
      font-weight: 700;
      background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .result-box {
      display: flex;
      gap: 24px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .score-card {
      background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
      padding: 28px;
      border-radius: 20px;
      text-align: center;
      flex: 1;
      min-width: 200px;
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
    }

    .score-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 16px 32px rgba(0, 0, 0, 0.12);
    }

    .score-card h4 {
      margin-bottom: 16px;
      font-size: 1.2rem;
      font-weight: 600;
      color: #374151;
    }

    .score-value {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 12px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .score-level {
      margin-top: 12px;
      padding: 8px 16px;
      border-radius: 25px;
      font-size: 0.85rem;
      font-weight: 600;
      display: inline-block;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .normal { 
      background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); 
      color: #065f46; 
      border: 1px solid #a7f3d0;
    }
    
    .mild { 
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); 
      color: #92400e; 
      border: 1px solid #fde68a;
    }
    
    .moderate { 
      background: linear-gradient(135deg, #fed7aa 0%, #fdba74 100%); 
      color: #c2410c; 
      border: 1px solid #fdba74;
    }
    
    .severe { 
      background: linear-gradient(135deg, #fecaca 0%, #fca5a5 100%); 
      color: #991b1b; 
      border: 1px solid #fca5a5;
    }
    
    .extremely-severe { 
      background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%); 
      color: #6b21a8; 
      border: 1px solid #e9d5ff;
    }

    @media (max-width: 768px) {
      .container {
        grid-template-columns: 1fr;
        grid-template-rows: auto 1fr;
        padding: 16px;
      }

      .sidebar {
        padding: 20px;
      }

      .main {
        padding: 24px;
      }

      .options {
        justify-content: center;
      }

      .result-box {
        flex-direction: column;
        gap: 16px;
      }
    }

    /* Scrollbar styling */
    .main::-webkit-scrollbar {
      width: 8px;
    }

    .main::-webkit-scrollbar-track {
      background: #f1f5f9;
      border-radius: 10px;
    }

    .main::-webkit-scrollbar-thumb {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 10px;
    }

    .main::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="sidebar">
      <h1>DASS-21</h1>
      <p>Depression, Anxiety, and Stress Self-Assessment Tool</p>

      <div class="form-group">
        <label for="name">Name</label>
        <input type="text" id="name" placeholder="Enter your name" />
      </div>
      <div class="form-group">
        <label for="date">Date</label>
        <input type="date" id="date" />
      </div>

      <div class="instructions">
        <strong>Instructions:</strong> Please rate how much each statement applied to you during the past week using the 0â€“3 scale below.
      </div>
    </div>

    <div class="main">
      <form id="dassForm">
        <div id="questionContainer"></div>

        <div class="submit">
          <button type="submit">Calculate Results</button>
        </div>
      </form>

      <div class="results" id="results">
        <h2>Your Assessment Results</h2>
        <div class="result-box">
          <div class="score-card">
            <h4>Depression</h4>
            <div class="score-value" id="depressionScore">0</div>
            <div class="score-level" id="depressionLevel">Normal</div>
          </div>
          <div class="score-card">
            <h4>Anxiety</h4>
            <div class="score-value" id="anxietyScore">0</div>
            <div class="score-level" id="anxietyLevel">Normal</div>
          </div>
          <div class="score-card">
            <h4>Stress</h4>
            <div class="score-value" id="stressScore">0</div>
            <div class="score-level" id="stressLevel">Normal</div>
          </div>
        </div>
        <div style="text-align: center; margin-top: 24px;">
          <button id="downloadPDF" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white; padding: 12px 32px; border: none; border-radius: 12px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 6px 16px rgba(245, 158, 11, 0.3);">
            ðŸ“„ Download PDF Report
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const questions = [
      { id: 1, type: 's', text: 'I found it hard to wind down' },
      { id: 2, type: 'a', text: 'I was aware of dryness of my mouth' },
      { id: 3, type: 'd', text: 'I couldn\'t seem to experience any positive feeling at all' },
      { id: 4, type: 'a', text: 'I experienced breathing difficulty (e.g. excessively rapid breathing, breathlessness in the absence of physical exertion)' },
      { id: 5, type: 'd', text: 'I found it difficult to work up the initiative to do things' },
      { id: 6, type: 's', text: 'I tended to over-react to situations' },
      { id: 7, type: 'a', text: 'I experienced trembling (e.g. in the hands)' },
      { id: 8, type: 's', text: 'I felt that I was using a lot of nervous energy' },
      { id: 9, type: 'a', text: 'I was worried about situations in which I might panic and make a fool of myself' },
      { id: 10, type: 'd', text: 'I felt that I had nothing to look forward to' },
      { id: 11, type: 's', text: 'I found myself getting agitated' },
      { id: 12, type: 's', text: 'I found it difficult to relax' },
      { id: 13, type: 'd', text: 'I felt down-hearted and blue' },
      { id: 14, type: 's', text: 'I was intolerant of anything that kept me from getting on with what I was doing' },
      { id: 15, type: 'a', text: 'I felt I was close to panic' },
      { id: 16, type: 'd', text: 'I was unable to become enthusiastic about anything' },
      { id: 17, type: 'd', text: 'I felt I wasn\'t worth much as a person' },
      { id: 18, type: 's', text: 'I felt that I was rather touchy' },
      { id: 19, type: 'a', text: 'I was aware of the action of my heart in the absence of physical exertion (e.g. sense of heart rate increase, heart missing a beat)' },
      { id: 20, type: 'a', text: 'I felt scared without any good reason' },
      { id: 21, type: 'd', text: 'I felt that life was meaningless' }
    ];

    const scale = [
      { value: '0', label: '0 - Did not apply' },
      { value: '1', label: '1 - Some degree' },
      { value: '2', label: '2 - Considerable degree' },
      { value: '3', label: '3 - Very much/most time' }
    ];

    const container = document.getElementById('questionContainer');
    questions.forEach(q => {
      const div = document.createElement('div');
      div.className = 'question';
      div.innerHTML = `
        <h3>${q.id}. ${q.text}</h3>
        <div class="options">
          ${scale.map(s => `
            <div class="option">
              <input type="radio" id="q${q.id}_${s.value}" name="q${q.id}" value="${s.value}" required />
              <label for="q${q.id}_${s.value}">${s.value}</label>
            </div>
          `).join('')}
        </div>
      `;
      container.appendChild(div);
    });

    const form = document.getElementById('dassForm');
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      
      let depression = 0, anxiety = 0, stress = 0;
      
      questions.forEach(q => {
        const val = parseInt(document.querySelector(`input[name="q${q.id}"]:checked`).value);
        if (q.type === 'd') depression += val;
        else if (q.type === 'a') anxiety += val;
        else if (q.type === 's') stress += val;
      });

      // Multiply by 2 as per DASS-21 scoring
      depression *= 2;
      anxiety *= 2;
      stress *= 2;

      document.getElementById('depressionScore').textContent = depression;
      document.getElementById('anxietyScore').textContent = anxiety;
      document.getElementById('stressScore').textContent = stress;

      const getLevelAndClass = (score, type) => {
        const ranges = {
          d: [9, 13, 20, 27],
          a: [7, 9, 14, 19],
          s: [14, 18, 25, 33]
        }[type];

        if (score <= ranges[0]) return ['Normal', 'normal'];
        if (score <= ranges[1]) return ['Mild', 'mild'];
        if (score <= ranges[2]) return ['Moderate', 'moderate'];
        if (score <= ranges[3]) return ['Severe', 'severe'];
        return ['Extremely Severe', 'extremely-severe'];
      };

      const [dl, dc] = getLevelAndClass(depression, 'd');
      const [al, ac] = getLevelAndClass(anxiety, 'a');
      const [sl, sc] = getLevelAndClass(stress, 's');

      const setLevel = (id, text, className) => {
        const element = document.getElementById(id);
        element.textContent = text;
        element.className = `score-level ${className}`;
      };

      setLevel('depressionLevel', dl, dc);
      setLevel('anxietyLevel', al, ac);
      setLevel('stressLevel', sl, sc);

      document.getElementById('results').style.display = 'block';
      document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
    });

    // Set today's date
    document.getElementById('date').valueAsDate = new Date();

    // PDF Generation
    document.getElementById('downloadPDF').addEventListener('click', function() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      
      const name = document.getElementById('name').value || 'Anonymous';
      const rawDate = document.getElementById('date').value || new Date().toISOString().split('T')[0];
      const [yyyy, mm, dd] = rawDate.split('-');
      const date = `${dd}/${mm}/${yyyy}`;

      const depression = parseInt(document.getElementById('depressionScore').textContent);
      const anxiety = parseInt(document.getElementById('anxietyScore').textContent);
      const stress = parseInt(document.getElementById('stressScore').textContent);
      
      const depressionLevel = document.getElementById('depressionLevel').textContent;
      const anxietyLevel = document.getElementById('anxietyLevel').textContent;
      const stressLevel = document.getElementById('stressLevel').textContent;

      // PDF styling
      let yPosition = 20;
      const pageHeight = doc.internal.pageSize.height;
      const margin = 20;
      
      // Helper function to add new page if needed
      function checkPageBreak(additionalHeight = 10) {
        if (yPosition + additionalHeight > pageHeight - margin) {
          doc.addPage();
          yPosition = 20;
        }
      }
      
      // Header
      doc.setFontSize(24);
      doc.setFont('helvetica', 'bold');
      doc.text('DASS-21 Assessment Report', 105, yPosition, { align: 'center' });
      yPosition += 15;
      
      // Subtitle
      doc.setFontSize(12);
      doc.setFont('helvetica', 'normal');
      doc.text('Depression, Anxiety and Stress Scale - 21 Items', 105, yPosition, { align: 'center' });
      yPosition += 20;
      
      // Name and Date
      doc.setFontSize(12);
      doc.setFont('helvetica', 'bold');
      doc.text(`Name: ${name}`, 20, yPosition);
      doc.text(`Date: ${date}`, 150, yPosition);
      yPosition += 20;
      
      // Instructions
      doc.setFontSize(14);
      doc.setFont('helvetica', 'bold');
      doc.text('Instructions:', 20, yPosition);
      yPosition += 8;
      
      doc.setFontSize(10);
      doc.setFont('helvetica', 'normal');
      doc.text('Please rate how much each statement applied to you during the past week:', 20, yPosition);
      yPosition += 6;
      doc.text('0 = Did not apply to me at all', 25, yPosition);
      yPosition += 5;
      doc.text('1 = Applied to me to some degree, or some of the time', 25, yPosition);
      yPosition += 5;
      doc.text('2 = Applied to me to a considerable degree or a good part of time', 25, yPosition);
      yPosition += 5;
      doc.text('3 = Applied to me very much or most of the time', 25, yPosition);
      yPosition += 15;
      
      // Results Summary
      checkPageBreak(40);
      doc.setFontSize(16);
      doc.setFont('helvetica', 'bold');
      doc.text('Assessment Results', 20, yPosition);
      yPosition += 15;
      
      // Results table
      doc.setFontSize(12);
      doc.setFont('helvetica', 'bold');
      doc.text('Scale', 20, yPosition);
      doc.text('Score', 80, yPosition);
      doc.text('Level', 130, yPosition);
      yPosition += 8;
      
      // Draw line under headers
      doc.line(20, yPosition, 180, yPosition);
      yPosition += 8;
      
      doc.setFont('helvetica', 'normal');
      doc.text('Depression', 20, yPosition);
      doc.text(depression.toString(), 80, yPosition);
      doc.text(depressionLevel, 130, yPosition);
      yPosition += 8;
      
      doc.text('Anxiety', 20, yPosition);
      doc.text(anxiety.toString(), 80, yPosition);
      doc.text(anxietyLevel, 130, yPosition);
      yPosition += 8;
      
      doc.text('Stress', 20, yPosition);
      doc.text(stress.toString(), 80, yPosition);
      doc.text(stressLevel, 130, yPosition);
      yPosition += 20;
      
      // Individual Responses
      checkPageBreak(30);
      doc.setFontSize(14);
      doc.setFont('helvetica', 'bold');
      doc.text('Individual Question Responses', 20, yPosition);
      yPosition += 15;
      
      questions.forEach(q => {
        checkPageBreak(15);
        
        const selectedValue = document.querySelector(`input[name="q${q.id}"]:checked`).value;
        const scaleText = {
          '0': 'Did not apply to me at all',
          '1': 'Applied to me to some degree, or some of the time', 
          '2': 'Applied to me to a considerable degree or a good part of time',
          '3': 'Applied to me very much or most of the time'
        }[selectedValue];
        
        doc.setFontSize(10);
        doc.setFont('helvetica', 'bold');
        doc.text(`${q.id}. ${q.text}`, 20, yPosition);
        yPosition += 6;
        
        doc.setFont('helvetica', 'normal');
        doc.text(`Response: ${selectedValue} - ${scaleText}`, 25, yPosition);
        yPosition += 10;
      });
      
      // Add new page for interpretation
      doc.addPage();
      yPosition = 20;
      
      // Interpretation
      doc.setFontSize(16);
      doc.setFont('helvetica', 'bold');
      doc.text('Interpretation Guide', 20, yPosition);
      yPosition += 15;
      
      doc.setFontSize(12);
      doc.setFont('helvetica', 'bold');
      doc.text('Depression Scale:', 20, yPosition);
      yPosition += 8;
      doc.setFont('helvetica', 'normal');
      doc.text('Assesses dysphoria, hopelessness, devaluation of life, self-deprecation,', 20, yPosition);
      yPosition += 5;
      doc.text('lack of interest/involvement, anhedonia and inertia.', 20, yPosition);
      yPosition += 12;
      
      doc.setFont('helvetica', 'bold');
      doc.text('Anxiety Scale:', 20, yPosition);
      yPosition += 8;
      doc.setFont('helvetica', 'normal');
      doc.text('Assesses autonomic arousal, skeletal muscle effects, situational anxiety,', 20, yPosition);
      yPosition += 5;
      doc.text('and subjective experience of anxious affect.', 20, yPosition);
      yPosition += 12;
      
      doc.setFont('helvetica', 'bold');
      doc.text('Stress Scale:', 20, yPosition);
      yPosition += 8;
      doc.setFont('helvetica', 'normal');
      doc.text('Assesses difficulty relaxing, nervous arousal, and being easily', 20, yPosition);
      yPosition += 5;
      doc.text('upset/agitated, irritable/over-reactive and impatient.', 20, yPosition);
      yPosition += 15;
      
      // Severity Ranges
      doc.setFontSize(14);
      doc.setFont('helvetica', 'bold');
      doc.text('Severity Ranges', 20, yPosition);
      yPosition += 12;
      
      doc.setFontSize(10);
      doc.setFont('helvetica', 'bold');
      doc.text('Depression:', 20, yPosition);
      doc.setFont('helvetica', 'normal');
      doc.text('Normal (0-9), Mild (10-13), Moderate (14-20), Severe (21-27), Extremely Severe (28+)', 20, yPosition + 5);
      yPosition += 15;
      
      doc.setFont('helvetica', 'bold');
      doc.text('Anxiety:', 20, yPosition);
      doc.setFont('helvetica', 'normal');
      doc.text('Normal (0-7), Mild (8-9), Moderate (10-14), Severe (15-19), Extremely Severe (20+)', 20, yPosition + 5);
      yPosition += 15;
      
      doc.setFont('helvetica', 'bold');
      doc.text('Stress:', 20, yPosition);
      doc.setFont('helvetica', 'normal');
      doc.text('Normal (0-14), Mild (15-18), Moderate (19-25), Severe (26-33), Extremely Severe (34+)', 20, yPosition + 5);
      yPosition += 20;
      
      // Important Note
      doc.setFontSize(12);
      doc.setFont('helvetica', 'bold');
      doc.text('Important Note:', 20, yPosition);
      yPosition += 8;
      doc.setFont('helvetica', 'normal');
      doc.text('The DASS-21 should not be used to replace a face-to-face clinical interview.', 20, yPosition);
      yPosition += 5;
      doc.text('If you are experiencing significant emotional difficulties, you should contact', 20, yPosition);
      yPosition += 5;
      doc.text('your GP for a referral to a qualified professional.', 20, yPosition);
      yPosition += 15;
      
      // Reference
      doc.setFontSize(10);
      doc.setFont('helvetica', 'italic');
      doc.text('Reference: Lovibond, S.H. & Lovibond, P.F. (1995). Manual for the Depression', 20, yPosition);
      yPosition += 5;
      doc.text('Anxiety & Stress Scales. (2nd Ed.) Sydney: Psychology Foundation.', 20, yPosition);
      
      // Footer
      const pageCount = doc.internal.getNumberOfPages();
      for (let i = 1; i <= pageCount; i++) {
        doc.setPage(i);
        doc.setFontSize(8);
        doc.setFont('helvetica', 'normal');
        doc.text(`Page ${i} of ${pageCount}`, 105, pageHeight - 10, { align: 'center' });
        doc.text(`Generated on ${new Date().toLocaleDateString()}`, 190, pageHeight - 10, { align: 'right' });
      }
      
      // Save the PDF
      doc.save(`DASS-21_Report_${name.replace(/[^a-zA-Z0-9]/g, '_')}_${date}.pdf`);
    });
  </script>
</body>
</html>
